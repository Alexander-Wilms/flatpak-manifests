{
	"app-id": "com.github.needle_and_thread.vocal",
	"runtime": "org.gnome.Platform",
	"runtime-version": "3.24",
	"sdk": "org.gnome.Sdk",
	"command": "vocal",
	"rename-icon": "com.github.needle-and-thread.vocal",
	"rename-desktop-file": "com.github.needle-and-thread.vocal.desktop",
	"rename-appdata-file": "com.github.needle-and-thread.vocal.appdata.xml",
	"finish-args":[
		"--socket=wayland",
		"--socket=x11",
		"--share=network",
		"--device=dri",
		"--env=GST_PLUGIN_PATH_1_0=/app/lib/gstreamer-1.0",

    "--talk-name=org.gtk.vfs",
    "--talk-name=org.gtk.vfs.*",

    "--env=DCONF_USER_CONFIG_DIR=.config/dconf",
    "--filesystem=xdg-run/dconf",
    "--filesystem=~/.config/dconf:ro",
    "--talk-name=ca.desrt.dconf",
    "--talk-name=org.freedesktop.secrets",

    "--talk-name=org.freedesktop.Notifications",

    "--talk-name=org.gnome.SettingsDaemon",
    "--talk-name=org.mate.SettingsDaemon",

    "--talk-name=org.gnome.ScreenSaver",
    "--talk-name=org.cinnamon.ScreenSaver",
    "--talk-name=org.freedesktop.ScreenSaver",
    "--talk-name=com.canonical.Unity.Session",

    "--own-name=org.mpris.MediaPlayer2.Vocal",
    "--own-name=com.github.needle-and-thread.vocal",
    "--filesystem=/tmp"
	],
	"modules":[
		{
			"name": "gst-libav",
			"config-opts": [ "--disable-gtk-doc", "--with-system-libav" ],
			"cleanup": [ "*.la", "/share/gtk-doc" ],
			"sources": [{
			"type": "archive",
			"url": "https://gstreamer.freedesktop.org/src/gst-libav/gst-libav-1.10.4.tar.xz",
			"sha256": "6ca0feca75e3d48315e07f20ec37cf6260ed1e9dde58df355febd5016246268b"
			}],
			"modules": [ "org.ffmpeg.FFmpeg.json" ]
		},
		{
			"name": "intro",
			"buildsystem": "autotools",
			"sources":[
				{
					"type":"archive",
					"url": "http://ftp.gnome.org/pub/gnome/sources/gobject-introspection/1.50/gobject-introspection-1.50.0.tar.xz",
					"sha256": "1c6597c666f543c70ef3d7c893ab052968afae620efdc080c36657f4226337c5"
				}
			]
		},
		{
			"name": "libgee",
			"buildsystem": "autotools",
			"sources":[
				{
					"type":"git",
					"url": "https://github.com/GNOME/libgee.git",
					"branch": "0.20.0"
				}
			]
		},
		{
			"name": "granite",
			"buildsystem": "cmake",
			"config-opts": ["-DCMAKE_BUILD_TYPE=Release", "-DCMAKE_INSTALL_PREFIX=/app", "-DCMAKE_INSTALL_LIBDIR=/app/lib"],
			"sources":[
				{
					"type":"archive",
					"url": "https://launchpad.net/granite/0.4/0.4.0.1/+download/granite-0.4.0.1.tar.xz",
					"sha256": "95a142a8befeedc35a089d638e759b657905508dc3007036d6c1fa3efe94c4dd"
				},
				{
					"type": "patch",
					"path": "granite.patch"
				}
			]
		},
		{
			"name": "vocal",
			"buildsystem": "cmake",
			"sources":[
				{
					"type":"git",
					"url": "https://github.com/needle-and-thread/vocal.git",
					"branch": "2.0.12-beta",
					"commit": "936b3ef5256f12b0439e1c3bb61c120fee68c315"
				},
				{
					"type": "patch",
					"path": "vocal.patch"
				}
			]
		}
	]
}
